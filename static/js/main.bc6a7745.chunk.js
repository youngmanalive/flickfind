(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/camera.67526c83.svg"},14:function(e,t,a){e.exports=a(33)},20:function(e,t,a){},22:function(e,t,a){},24:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t),a.d(t,"API_KEY",function(){return n});var n="403ffcb3b4481da342203f94fb6e937e"},31:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),l=a.n(i),c=(a(20),a(22),a(2)),o=a(3),s=a(6),m=a(4),u=a(5),h=a(1),v=(a(24),a(12)),d=a.n(v),g=a(30).API_KEY,p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w185";return e?"https://image.tmdb.org/t/p/".concat(t).concat(e):a(10)},f=a(13),E=a.n(f),b=(a(31),function(e){var t=e.vote_average,a=e.vote_count;return a?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{readonly:!0,stop:10,initialRating:t})," - ",r.a.createElement("span",null,a," votes")):r.a.createElement("span",null,"No votes")}),y=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"movie-poster"},r.a.createElement("img",{src:p(e.poster_path),alt:e.title})),r.a.createElement("div",{className:"movie-details"},r.a.createElement("h1",{className:"movie-title"},e.title),r.a.createElement("h2",{className:"movie-year"},"Released: ",e.release_date.slice(0,4)),r.a.createElement("span",{className:"movie-rating"},r.a.createElement(b,e)),r.a.createElement("p",{className:"movie-overview"},e.overview)))},N=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.movies,n=e.activePage,i=e.totalResults;return e.error?r.a.createElement("h1",{className:"movie-index-msg"},"Oops, something went wrong..."):null===i?r.a.createElement("div",null,r.a.createElement("img",{className:"film-icon",src:a(10),alt:"film icon"}),r.a.createElement("h1",{className:"welcome"},"Find a Flick!")):0===i?r.a.createElement("h1",{className:"movie-index-msg"},"No movies found! :("):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"movie-index-results"},r.a.createElement("h1",null,i," movie",1===i?"":"s"," found!"),r.a.createElement(d.a,{activePage:n,itemsCountPerPage:20,totalItemsCount:i,pageRangeDisplayed:10,onChange:this.props.handlePageChange}),r.a.createElement("h1",null,"page ",n," of ",Math.ceil(i/20))),r.a.createElement("ul",{className:"movie-list"},t.map(function(e){return r.a.createElement("li",{key:e.id,className:"movie-index-item"},r.a.createElement(y,e))})))}}]),t}(r.a.Component),w=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state=a.defaultState(),a.handleInputChange=a.handleInputChange.bind(Object(h.a)(Object(h.a)(a))),a.handleFetch=a.handleFetch.bind(Object(h.a)(Object(h.a)(a))),a.typingTimeout=null,a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"defaultState",value:function(){return{query:"",movies:[],activePage:1,totalResults:null,error:!1}}},{key:"handleInputChange",value:function(e){var t=this,a=e.currentTarget.value;this.typingTimeout&&clearTimeout(this.typingTimeout),a.trim().length?this.setState({query:a,error:!1},function(){t.typingTimeout=setTimeout(t.handleFetch,150)}):this.setState(this.defaultState())}},{key:"handleFetch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.state.query.length&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return fetch("".concat("https://api.themoviedb.org/3/search/movie?","api_key=").concat(g,"&query=").concat(e,"&page=").concat(t)).then(function(e){return e.ok?e.json():{error:!0}})}(this.state.query,t).then(function(a){a.error?e.setState({error:!0}):e.setState({activePage:t,movies:a.results,totalResults:a.total_results<=2e4?a.total_results:2e4})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"header-container"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"FlickFind"),r.a.createElement("h2",null,"Search for movies!")),r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text",className:"search-bar",onChange:this.handleInputChange,value:this.state.query,placeholder:"Enter a movie title..."}))),r.a.createElement("div",{className:"movie-index"},r.a.createElement(N,Object.assign({},this.state,{handlePageChange:this.handleFetch}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,2,1]]]);
//# sourceMappingURL=main.bc6a7745.chunk.js.map